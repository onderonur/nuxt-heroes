import{a as f,o as a,f as i,s as d,z as T,i as q,c as $,w as y,m as s,t as A,p as M,l as U,A as P,x as z,e as g,B as D,j as E,u as o,C as H,F as Q,v as W,k as C,y as I}from"./entry.130288e9.js";import{_ as N}from"./BaseButton.456391a5.js";import{_ as G,u as J,a as K}from"./LoadingContainer.vue.8138d2c7.js";import{_ as O}from"./nuxt-link.6492a434.js";import{u as X}from"./composables.379a590c.js";import"./app.config.ad742847.js";import"./Icon.e3eeacf0.js";import"./config.05a28fbe.js";const Y=["name","value","placeholder"],Z=f({__name:"BaseInput",props:{placeholder:null,name:null,modelValue:null},emits:["update:modelValue"],setup(e){return(c,r)=>(a(),i("input",{class:"px-3 md:px-4 w-full shadow-md md:text-lg h-11 md:h-12 rounded-l-md bg-background-paper dark:bg-dark-background-paper text-text-main dark:text-dark-text-main placeholder-text-lighter dark:placeholder-dark-text-lighter",name:e.name,value:e.modelValue,onInput:r[0]||(r[0]=n=>c.$emit("update:modelValue",n.target.value)),placeholder:e.placeholder},null,40,Y))}}),ee=f({__name:"SearchForm",props:{searchTerm:null},emits:["update:searchTerm","submit"],setup(e){return(c,r)=>{const n=Z,p=N;return a(),i("form",{onSubmit:r[1]||(r[1]=T(_=>c.$emit("submit",_),["prevent"])),class:"flex items-center mx-auto max-w-xl mb-app-py md:mb-app-py-md",autocomplete:"off"},[d(n,{name:"searchTerm","model-value":e.searchTerm,"onUpdate:modelValue":r[0]||(r[0]=_=>c.$emit("update:searchTerm",_)),placeholder:"Search..."},null,8,["model-value"]),d(p,{"icon-name":"material-symbols:search","button-class":"search-button",type:"submit",variant:"primary"})],32)}}});const te=q(ee,[["__scopeId","data-v-194dc35a"]]),V=e=>(M("data-v-6c85defd"),e=e(),U(),e),ae={class:"bg-secondary-main relative group rounded-tr-md rounded-bl-md"},re=V(()=>s("div",{class:"image-border has-transition top-left"},null,-1)),oe=V(()=>s("div",{class:"image-border has-transition bottom-right"},null,-1)),ne={class:"has-transition bg-background-paper shadow-md mb-2 rounded-tr-md rounded-bl-md overflow-hidden group-hover:translate-x-2 group-hover:-translate-y-2"},se={class:"font-semibold md:text-lg uppercase"},le=f({__name:"BaseCard",props:{to:null,imgSrc:null,imgAlt:null,title:null},setup(e){return(c,r)=>{const n=G,p=O;return a(),$(p,{to:e.to},{default:y(()=>[s("div",ae,[re,oe,s("div",ne,[d(n,{src:e.imgSrc,alt:e.imgAlt},null,8,["src","alt"])])]),s("h2",se,A(e.title),1)]),_:1},8,["to"])}}});const ce=q(le,[["__scopeId","data-v-6c85defd"]]),ue=f({__name:"CharacterCard",props:{character:null},setup(e){return(c,r)=>{const n=ce;return a(),$(n,{to:{name:"characters-characterId",params:{characterId:e.character.id}},"img-src":e.character.images.sm,"img-alt":`${e.character.name} image`,title:e.character.name},null,8,["to","img-src","img-alt","title"])}}});function ie(e){P(e,()=>{window.scrollTo({top:0})})}const me={key:0},de={class:"grid grid-cols-autofill-min-8 md:grid-cols-autofill-min-10 gap-2 md:gap-4"},pe={key:1},_e=s("h3",{class:"text-lg font-bold"},"No result...",-1),he=[_e],ge={class:"flex py-4"},fe=s("div",{class:"flex-grow"},null,-1),Be=f({__name:"index",setup(e){const{data:n,pending:p,error:_}=J(()=>"https://akabab.github.io/superhero-api/api/all.json","$pqtWcjQkdb"),v=z(),h=g(()=>{const t=parseInt(v.query.page);return Number.isInteger(t)?t:1}),k=g(()=>{var t;return(t=n.value)==null?void 0:t.filter(u=>{const l=v.query.term;return typeof l!="string"||!l?!0:u.name.toLowerCase().includes(l.toLowerCase())})}),x=g(()=>{var l;const t=(h.value-1)*24;return(l=k.value)==null?void 0:l.slice(t,t+24)}),S=g(()=>h.value>1?h.value-1:void 0),w=g(()=>{const t=Math.ceil((k.value??[]).length/24);return h.value<t?h.value+1:void 0}),m=D("");P(()=>v.query.term,t=>{const u=typeof t=="string"?t:"";m.value=u},{immediate:!0});const R=E();function F(){const t={};m.value&&(t.term=m.value),R.push({name:"index",query:t})}return ie(x),X({title:()=>{const t=v.query.term;return`Search${t?` for '${t}'`:""}`}}),(t,u)=>{const l=te,L=ue,B=N,j=K;return a(),i("div",null,[d(l,{"search-term":o(m),"onUpdate:searchTerm":u[0]||(u[0]=b=>H(m)?m.value=b:null),onSubmit:T(F,["prevent"])},null,8,["search-term","onSubmit"]),d(j,{loading:o(p),error:o(_)},{default:y(()=>[o(x)&&o(x).length?(a(),i("div",me,[s("ul",de,[(a(!0),i(Q,null,W(o(x),b=>(a(),i("li",{key:b.id},[d(L,{character:b},null,8,["character"])]))),128))])])):(a(),i("div",pe,he)),s("div",ge,[typeof o(S)=="number"?(a(),$(B,{key:0,to:{name:"index",query:{...t.$route.query,page:o(S)}},"icon-name":"material-symbols:chevron-left"},{default:y(()=>[C(" Previous ")]),_:1},8,["to"])):I("",!0),fe,typeof o(w)=="number"?(a(),$(B,{key:1,to:{name:"index",query:{...t.$route.query,page:o(w)}},"icon-name":"material-symbols:chevron-right","icon-alignment":"right"},{default:y(()=>[C(" Next ")]),_:1},8,["to"])):I("",!0)])]),_:1},8,["loading","error"])])}}});export{Be as default};
